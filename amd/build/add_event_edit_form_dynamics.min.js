define ("block_totem/add_event_edit_form_dynamics",["jquery"],function(){return{init:function init(a){document.getElementById("id_eventtypelist").innerHTML="";var b=document.createElement("option");b.value="";b.text="";document.getElementById("id_eventtypelist").add(b);var c=a.eventtypelist.split("\n");c.forEach(function(a){var b=a.split("|"),c=document.createElement("option");c.value=b[0];c.text=b[1];c.style=b[2];document.getElementById("id_eventtypelist").add(c)});document.getElementById("id_eventtypelist").addEventListener("change",function(){document.getElementsByName("eventtype")[0].value=document.getElementById("id_eventtypelist").value});if(""!=document.getElementsByName("eventtype")[0].value){var d=document.getElementById("id_eventtypelist");d.value=document.getElementsByName("eventtype")[0].value;d.dispatchEvent(new Event("change"))}require(["jquery","core/ajax","core/notification"],function(b,c,d){var e=c.call([{methodname:"get_userlist",args:{source:parseInt(a.source+""),sourceid:parseInt(a.sourceid+"")}}]);e[0].done(function(b){document.getElementById("id_useridlist").innerHTML="";var e=document.createElement("option");e.value="";e.text="";document.getElementById("id_useridlist").add(e);b.forEach(function(a){var b=document.createElement("option");b.value=a.id;b.text=a.firstname+" "+a.lastname;document.getElementById("id_useridlist").add(b)});document.getElementById("id_useridlist").addEventListener("change",function(){document.getElementsByName("userid")[0].value=document.getElementById("id_useridlist").value;if(""!=document.getElementsByName("teaching")[0].value){document.getElementsByName("teaching")[0].value="-"}var b=c.call([{methodname:"get_teachinglist",args:{blockteachings:a.blockteachings+"",teacherid:parseInt(document.getElementById("id_useridlist").value+"")}}]);b[0].done(function(a){document.getElementById("id_teachinglist").innerHTML="";var b=document.createElement("option");b.value="";b.text="";document.getElementById("id_teachinglist").add(b);a.forEach(function(a){var b=document.createElement("option");b.value=a.id;b.text=a.name;document.getElementById("id_teachinglist").add(b)});if("0"==document.getElementsByName("id")[0].value){if(0<a.length){document.getElementsByName("teaching")[0].value=a[0].id;document.getElementById("id_teachinglist").value=a[0].id}}else{var c=document.getElementById("id_teachinglist");if(""==document.getElementsByName("teaching")[0].value){c.value=document.getElementsByName("teaching")[0].value}else{c.value=document.getElementsByName("teaching")[0].value;if(""==document.getElementById("id_teachinglist").value){document.getElementsByName("teaching")[0].value=a[0].id;document.getElementById("id_teachinglist").value=a[0].id}}}document.getElementById("id_teachinglist").addEventListener("change",function(){document.getElementsByName("teaching")[0].value=document.getElementById("id_teachinglist").value},!1)}).fail(d.exception)},!1);if(""!=document.getElementsByName("userid")[0].value){var f=document.getElementById("id_useridlist");f.value=document.getElementsByName("userid")[0].value;f.dispatchEvent(new Event("change"))}}).fail(d.exception)})}}});
//# sourceMappingURL=add_event_edit_form_dynamics.min.js.map
