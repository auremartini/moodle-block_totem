define ("block_totem/add_event_edit_form_dynamics",["jquery"],function(){return{init:function init(a){require(["jquery","core/ajax","core/notification"],function(b,c,d){var e=c.call([{methodname:"get_userlist",args:{source:parseInt(a.source+""),sourceid:parseInt(a.sourceid+"")}}]);e[0].done(function(b){document.getElementById("id_useridlist").innerHTML="";var e=document.createElement("option");e.value="";e.text="";document.getElementById("id_useridlist").add(e);b.forEach(function(a){var b=document.createElement("option");b.value=a.id;b.text=a.firstname+" "+a.lastname;document.getElementById("id_useridlist").add(b)});document.getElementById("id_useridlist").addEventListener("change",function(){document.getElementsByName("userid")[0].value=document.getElementById("id_useridlist").value;var b=c.call([{methodname:"get_teachinglist",args:{blockteachings:a.blockteachings+"",teacherid:parseInt(document.getElementById("id_useridlist").value+"")}}]);b[0].done(function(a){document.getElementById("id_teachinglist").innerHTML="";var b=document.createElement("option");b.value="";b.text="";document.getElementById("id_teachinglist").add(b);a.forEach(function(a){var b=document.createElement("option");b.value=a.id;b.text=a.name;document.getElementById("id_teachinglist").add(b)});if(1==a.length){document.getElementsByName("teaching")[0].value=a[0].id;document.getElementById("id_teachinglist").value=a[0].id}document.getElementById("id_teachinglist").addEventListener("change",function(){document.getElementsByName("teaching")[0].value=document.getElementById("id_teachinglist").value;if(""!=document.getElementsByName("userid")[0].value){var a=document.getElementById("id_teachinglist");a.value=document.getElementsByName("teaching")[0].value;a.dispatchEvent(new Event("change"))}},!1)}).fail(d.exception)},!1);if(""!=document.getElementsByName("userid")[0].value){var f=document.getElementById("id_useridlist");f.value=document.getElementsByName("userid")[0].value;f.dispatchEvent(new Event("change"))}}).fail(d.exception)})}}});
//# sourceMappingURL=add_event_edit_form_dynamics.min.js.map
